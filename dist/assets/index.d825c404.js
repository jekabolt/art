var U=Object.defineProperty;var j=(d,t,e)=>t in d?U(d,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):d[t]=e;var s=(d,t,e)=>(j(d,typeof t!="symbol"?t+"":t,e),e);import{d as C,S as K,G as $,W as Q,a as J,O as Z,V,C as H,b as tt,P as et,R as it,B as st,c as z}from"./vendor.284f5e16.js";const nt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function e(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(n){if(n.ep)return;n.ep=!0;const a=e(n);fetch(n.href,a)}};nt();const Y=class{constructor(){}static get instance(){return this._instance||(this._instance=new Y),this._instance}random(t,e){return Math.random()*(e-t)+t}random2(t,e){let i=Math.random()*(e-t)+t;return this.hit(2)&&(i*=-1),i}randomInt(t,e){return Math.floor(Math.random()*(e-t+1))+t}hit(t=0){return t<2&&(t=2),this.randomInt(0,t-1)==0}randomArr(t){return t[this.randomInt(0,t.length-1)]}range(t){return this.random(-t,t)}clamp(t,e,i){return Math.min(i,Math.max(t,e))}map(t,e,i,n,a){if(t<=n)return e;if(t>=a)return i;const r=(i-e)/(a-n);return(t-n)*r+e}mix(t,e,i){return t*(1-i)+e*i}radian(t){return t*Math.PI/180}degree(t){return t*180/Math.PI}shuffle(t){let e=t.length;for(;--e;){let i=Math.floor(Math.random()*(e+1));if(e==i)continue;let n=t[e];t[e]=t[i],t[i]=n}}replaceAll(t,e,i){return t.split(e).join(i)}sort(t,e,i=!0){i?t.sort((n,a)=>a[e]-n[e]):t.sort((n,a)=>n[e]-a[e])}distance(t,e,i,n){const a=t-i,r=e-n;return Math.sqrt(a*a+r*r)}numStr(t,e){let i=String(t);if(i.length>=e)return i;const n=e-i.length;let a=0;for(;a<n;)i="0"+i,a++;return i}isIE(){const t=window.navigator.userAgent.toLowerCase();return t.indexOf("msie")!=-1||t.indexOf("trident/7")!=-1||t.indexOf("edge")!=-1}isIE2(){const t=window.navigator.userAgent.toLowerCase();return t.indexOf("msie")!=-1||t.indexOf("trident/7")!=-1}isWin(){return window.navigator.platform.indexOf("Win")!=-1}isChrome(){return window.navigator.userAgent.toLowerCase().indexOf("chrome")!=-1}isFF(){return window.navigator.userAgent.toLowerCase().indexOf("firefox")!=-1}isSafari(){return window.navigator.userAgent.toLowerCase().indexOf("safari")!=-1&&!this.isChrome()}useWebGL(){try{const t=document.createElement("canvas"),e=t.getContext("webgl")||t.getContext("experimental-webgl");return!!(window.WebGLRenderingContext&&e&&e.getShaderPrecisionFormat)}catch{return!1}}getQuery(t){t=t.replace(/[€[]/,"\u20AC\u20AC\u20AC[").replace(/[€]]/,"\u20AC\u20AC\u20AC]");const i=new RegExp("[\u20AC\u20AC?&]"+t+"=([^&//]*)").exec(window.location.href);return i==null?"":i[1]}isTouchDevice(){return"ontouchstart"in window||navigator!=null&&navigator.maxTouchPoints>0}isPc(){return C.mobile()==!1}isSp(){return C.mobile()}isAod(){return C.android()}isIPhone(){return C.iphone()}isIPad(){return C.tablet()}};let u=Y;s(u,"_instance");const F=class{constructor(){s(this,"FLG_PARAM",location.href.includes("p=yes"));s(this,"FLG_STATS",location.href.includes("p=yes"));s(this,"FLG_TEST",location.href.includes("10.0.1.33")||location.href.includes("localhost"));s(this,"PATH_IMG","./assets/img/");s(this,"USE_TOUCH",u.instance.isTouchDevice());s(this,"BREAKPOINT",768);s(this,"LG_PSD_WIDTH",1600);s(this,"XS_PSD_WIDTH",750);s(this,"IS_SIMPLE",u.instance.isPc()&&u.instance.isSafari());s(this,"IS_PC",u.instance.isPc());s(this,"IS_SP",u.instance.isSp());s(this,"IS_AND",u.instance.isAod());s(this,"IS_TAB",u.instance.isIPad());s(this,"USE_ROLLOVER",u.instance.isPc()&&!u.instance.isIPad())}static get instance(){return this._instance||(this._instance=new F),this._instance}};let w=F;s(w,"_instance");class y{constructor(){}}s(y,"LG",0),s(y,"XS",1);const G=class{constructor(){s(this,"_useFullScreen",u.instance.isSp()||u.instance.isIPad())}_isInIframe(){try{return window.self!==window.top}catch{return!0}}static get instance(){return this._instance||(this._instance=new G),this._instance}ratio(){return window.devicePixelRatio||1}px(t){return t+"px"}useScreen(){return screen!=null}sw(){return window.innerWidth}sh(){return this._isInIframe()?window.innerHeight:this._useFullScreen?screen.height:window.innerHeight}screenOffsetY(){return(window.innerHeight-this.sh())*.5}screen(){return window.innerWidth<=w.instance.BREAKPOINT?y.XS:y.LG}isXS(){return this.screen()==y.XS}isLG(){return this.screen()==y.LG}val(t,e){return this.isXS()?t:e}r(t){const e=this.val(w.instance.XS_PSD_WIDTH,w.instance.LG_PSD_WIDTH);return t/e*this.sw()}sin1(t){return Math.sin(t)+Math.sin(2*t)}sin2(t){return(Math.sin(t)+Math.sin(2.2*t+5.52)+Math.sin(2.9*t+.93)+Math.sin(4.6*t+8.94))/4}};let D=G;s(D,"_instance");class P{constructor(){}}s(P,"HIGH",0),s(P,"MIDDLE",1),s(P,"LOW",2);const q=class{constructor(){s(this,"cnt",0);s(this,"_updateList",[]);s(this,"play",!0);s(this,"_update",()=>{if(this.play){this.cnt++;for(var t of this._updateList)t!=null&&t();window.requestAnimationFrame(this._update)}});window.requestAnimationFrame(this._update)}static get instance(){return this._instance||(this._instance=new q),this._instance}add(t){this._updateList.push(t)}remove(t){const e=[];this._updateList.forEach(i=>{i!=t&&e.push(i)}),this._updateList=e}};let L=q;s(L,"_instance");const B=class{constructor(){s(this,"fps",P.MIDDLE);s(this,"debug",document.querySelector(".l-debug"));s(this,"_dat");s(this,"_stats");s(this,"main",{bgColor:{value:986895,type:"color"}});w.instance.FLG_PARAM&&this.makeParamGUI(),w.instance.FLG_STATS&&(this._stats=K(),document.body.appendChild(this._stats.domElement)),L.instance.add(()=>{this._update()})}_update(){this._stats!=null&&this._stats.update()}static get instance(){return this._instance||(this._instance=new B),this._instance}makeParamGUI(){this._dat==null&&(this._dat=new $,this._add(this.main,"main"))}_add(t,e){const i=this._dat.addFolder(e);for(var n in t){const a=t[n];a.use==null&&(a.type=="color"?i.addColor(a,"value").name(n):a.list!=null?i.add(a,"value",a.list).name(n):i.add(a,"value",a.min,a.max).name(n))}}};let I=B;s(I,"_instance");var at=`precision highp float;

varying vec3 vColor;

void main(void) {
  gl_FragColor = vec4(vColor, 1.0);
}`,rt=`precision highp float;

uniform mat4 modelMatrix;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform vec3 cameraPosition;

uniform float size;
uniform float time;
uniform float ang;

attribute vec3 position;
attribute vec3 info;
attribute vec3 color;

varying vec3 vColor;

float map(float value, float beforeMin, float beforeMax, float afterMin, float afterMax) {
  return afterMin + (afterMax - afterMin) * ((value - beforeMin) / (beforeMax - beforeMin));
}

vec3 rotate(vec3 p, float angle, vec3 axis){
    vec3 a = normalize(axis);
    float s = sin(angle);
    float c = cos(angle);
    float r = 1.0 - c;
    mat3 m = mat3(
        a.x * a.x * r + c,
        a.y * a.x * r + a.z * s,
        a.z * a.x * r - a.y * s,
        a.x * a.y * r - a.z * s,
        a.y * a.y * r + c,
        a.z * a.y * r + a.x * s,
        a.x * a.z * r + a.y * s,
        a.y * a.z * r - a.x * s,
        a.z * a.z * r + c
    );
    return m * p;
}

void main(){
  vColor = color;

  vec3 p = position;
  
  float rotationAngle = ang * info.x * 0.15;
  
  
  float threshold = 0.01;

  
  if (abs(rotationAngle) > threshold) {
    p = rotate(p, rotationAngle, vec3(0.0, 0.0, 0.0));
  }

  vec4 mvPosition = modelViewMatrix * vec4(p, 1.0);

  gl_Position = projectionMatrix * mvPosition;
  gl_PointSize = size;
}`;class ot{constructor(t={}){s(this,"opt");s(this,"el");this.opt=t,this.el=this.opt.el}init(){}dispose(){this.opt=null,this.el=null}getEl(){return this.el}hasData(t){return this.getEl().getAttribute(t)!=null}getData(t,e){const i=this.getEl().getAttribute(t);return i==null?e:i}qs(t){return this.el.querySelector(t)}qsAll(t){return this.el.querySelectorAll(t)}hasClass(t){return this.el.classList.contains(t)}addClass(t){this.el.classList.add(t)}attachClass(t,e){t!=null&&t.classList.add(e)}detachClass(t,e){t!=null&&t.classList.remove(e)}removeClass(t){this.el.classList.remove(t)}getWidth(t){var i;let e=(i=document.defaultView)==null?void 0:i.getComputedStyle(t,null).width;return Number(e==null?void 0:e.replace("px",""))}getHeight(t){var e;if(t==null)return 0;{let i=(e=document.defaultView)==null?void 0:e.getComputedStyle(t,null).height;return Number(i==null?void 0:i.replace("px",""))}}getRect(t){var i;const e=(i=document.defaultView)==null?void 0:i.getComputedStyle(t,null);return e!=null?{width:Number(e.width.replace("px","")),height:Number(e.height.replace("px",""))}:{}}getDataNumber(t){const e=this.getEl().getAttribute(t);return e==null?0:Number(e)}getOffsetTop(t){const e=t.getBoundingClientRect();var i=window.pageYOffset||document.documentElement.scrollTop;return e.top+i}getOffset(t){const e=t.getBoundingClientRect();var i=window.pageYOffset||document.documentElement.scrollTop;return{y:e.top+i,x:e.left}}_call(t,e=null){t!=null&&(e!=null?t(e):t())}}class X{constructor(t=0,e=0,i=0,n=0){s(this,"x",0);s(this,"y",0);s(this,"width",0);s(this,"height",0);this.x=t,this.y=e,this.width=i,this.height=n}}const W=class{constructor(){s(this,"_list",[]);s(this,"_timer",null);s(this,"size",new X);s(this,"oldSize",new X);s(this,"_call",()=>{for(var t of this._list)t!=null&&t()});window.addEventListener("resize",()=>{this._eResize()},!1)}static get instance(){return this._instance||(this._instance=new W),this._instance}_eResize(){this._setStageSize(),this._timer===null&&(clearInterval(this._timer),this._timer=null),this._timer=setTimeout(()=>{this._call(),this.oldSize.width=this.size.width,this.oldSize.height=this.size.height},300)}_setStageSize(){this.size.width=window.innerWidth,this.size.height=window.innerHeight}add(t){this._list.push(t)}remove(t){const e=[];this._list.forEach(i=>{i!=t&&e.push(i)}),this._list=e}};let O=W;s(O,"_instance");class lt{constructor(t=0,e=0){s(this,"x",0);s(this,"y",0);this.x=t,this.y=e}set(t=0,e=0){this.x=t,this.y=e}copy(t){this.x=t.x,this.y=t.y}}class ht extends ot{constructor(t={}){super(t);s(this,"_updateHandler");s(this,"_resizeHandler");s(this,"_c",0);s(this,"_isEnter",!1);s(this,"_isOneEnter",!1);s(this,"_observer");s(this,"_elPos",new lt(0,9999));s(this,"_eRollOverHandler");s(this,"_eRollOutHandler");(t.isDefEvent==null||t.isDefEvent)&&(this._updateHandler=this._update.bind(this),L.instance.add(this._updateHandler),this._resizeHandler=this._resize.bind(this),O.instance.add(this._resizeHandler))}init(){super.init()}_setHover(){this._eRollOverHandler=this._eRollOver.bind(this),this._eRollOutHandler=this._eRollOut.bind(this),this.getEl().addEventListener("mouseenter",this._eRollOverHandler),this.getEl().addEventListener("mouseleave",this._eRollOutHandler)}_disposeHover(){this._eRollOverHandler!=null&&(this.getEl().removeEventListener("mouseenter",this._eRollOverHandler),this.getEl().removeEventListener("mouseleave",this._eRollOutHandler),this._eRollOverHandler=null,this._eRollOutHandler=null)}_eRollOver(){}_eRollOut(){}_setObserver(){this._observer=new IntersectionObserver(t=>{t!=null&&t.forEach(e=>{e!=null&&e.intersectionRatio>0?this._eEnter():this._eLeave()})},{root:null}),setTimeout(()=>{if(this._observer!=null&&this._observer!=null){const t=this.getEl();t!=null&&this._observer.observe(t)}},100)}_eEnter(){this._isEnter=!0}_eLeave(){this._isEnter=!1}_disposeObserver(){(this._observer!=null||this._observer!=null)&&(this._observer.unobserve(this.getEl()),this._observer=null)}dispose(){this._updateHandler!=null&&(L.instance.remove(this._updateHandler),this._updateHandler=null),this._resizeHandler!=null&&(O.instance.remove(this._resizeHandler),this._resizeHandler=null),this._disposeHover(),this._disposeObserver(),super.dispose()}css(t,e){const i=t.style;for(var n in e)i[n]=e[n]}_update(){this._c++}_resize(){}}class ct extends ht{constructor(t={}){super(t);s(this,"camera");s(this,"renderer");s(this,"mainScene");s(this,"isRender",!0);s(this,"renderSize",new X);let e={canvas:this.el,antialias:!1,preserveDrawingBuffer:!0,powerPreference:"low-power"};this.renderer=new Q(e),this.renderer.autoClear=!0,this.renderer.setClearColor(0,1),this.mainScene=new J,this.camera=this._makeCamera(),this.updateCamera(this.camera,10,10)}init(){super.init()}_makeCamera(){return new Z(1,1,1,1)}updateCamera(t,e=10,i=10){this._updateOrthCamera(t,e,i)}_updateOrthCamera(t,e=10,i=10){t.left=-e*.5,t.right=e*.5,t.top=i*.5,t.bottom=-i*.5,t.near=-1e4,t.far=1e5,t.updateProjectionMatrix(),t.position.set(0,0,0),t.lookAt(new V(0,0,0))}_update(){super._update()}_getUni(t){return t.material.uniforms}_setUni(t,e,i){const n=this._getUni(t);n[e].value=i}}class ut extends ct{constructor(t){super(t);s(this,"_con");s(this,"_mesh");s(this,"_ang",0);s(this,"_val",0);s(this,"_totalRotation",0);s(this,"_color",[]);s(this,"_imgSize",512);s(this,"_sample",[]);s(this,"_currentImageIndex",1);s(this,"_maxImageIndex",4);s(this,"_clickTimes",[]);s(this,"_tripleClickDelay",400);s(this,"_oldAng",-1);s(this,"_touchStartX",0);s(this,"_touchStartY",0);s(this,"_isTouching",!1);s(this,"_swipeSensitivity",.05);s(this,"_minSwipeDistance",10);s(this,"_lastTouchX",0);s(this,"_lastTouchY",0);s(this,"_maxRotationPerFrame",.5);s(this,"_lastInteractionTime",0);s(this,"_autoReturnDelay",3e3);s(this,"_autoReturnSpeed",.05);const e=window.location.pathname;(e==="/invert"||e.startsWith("/invert/"))&&(this._currentImageIndex=0);for(let n=0;n<10;n++)this._color.push(new H(u.instance.random(0,1),u.instance.random(0,1),u.instance.random(0,1)));this._color[0]=new H(1-this._color[1].r,1-this._color[1].g,1-this._color[1].b),this._con=new tt,this.mainScene.add(this._con),this._lastInteractionTime=Date.now(),this._initSwipeControls(),this._loadImg(),this._resize()}_initSwipeControls(){var E;(E=document.querySelector(".l-btn"))==null||E.classList.add("-none");let t=0,e=0,i=0,n=!1;this.el.addEventListener("touchstart",o=>{o.touches.length>0&&(this._touchStartX=o.touches[0].clientX,this._touchStartY=o.touches[0].clientY,t=this._touchStartX,e=this._touchStartY,i=Date.now(),this._lastTouchX=this._touchStartX,this._lastTouchY=this._touchStartY,this._isTouching=!0,n=!1,this._lastInteractionTime=Date.now())},{passive:!0}),this.el.addEventListener("touchmove",o=>{if(!this._isTouching||o.touches.length===0)return;const h=o.touches[0].clientX,c=o.touches[0].clientY,p=h-this._lastTouchX,v=c-this._lastTouchY,g=h-this._touchStartX,x=c-this._touchStartY;if(Math.sqrt(g*g+x*x)>this._minSwipeDistance){n=!0;const M=Math.abs(p),b=Math.abs(v);if(M>b&&M>0){let m=p*this._swipeSensitivity;m=Math.max(-this._maxRotationPerFrame,Math.min(this._maxRotationPerFrame,m)),this._totalRotation+=m,this._val=(this._totalRotation%360+360)%360,this._oldAng===-1&&(this._oldAng=this._val),I.instance.debug.innerHTML="swipe H: "+Math.round(this._val)+"\xB0 (total: "+Math.round(this._totalRotation)+"\xB0)"}if(b>M&&b>0){let m=-v*this._swipeSensitivity;m=Math.max(-this._maxRotationPerFrame,Math.min(this._maxRotationPerFrame,m)),this._totalRotation+=m,this._val=(this._totalRotation%360+360)%360,this._oldAng===-1&&(this._oldAng=this._val),I.instance.debug.innerHTML="swipe V: "+Math.round(this._val)+"\xB0 (total: "+Math.round(this._totalRotation)+"\xB0)"}this._lastInteractionTime=Date.now(),this._lastTouchX=h,this._lastTouchY=c}},{passive:!0}),this.el.addEventListener("touchend",o=>{var x,A;const c=Date.now()-i,p=((x=o.changedTouches[0])==null?void 0:x.clientX)||t,v=((A=o.changedTouches[0])==null?void 0:A.clientY)||e,g=Math.sqrt(Math.pow(p-t,2)+Math.pow(v-e,2));this._isTouching=!1,!n&&g<10&&c<300&&this._handleTripleClick()},{passive:!0});let a=!1,r=0,_=0,l=0,f=0,T=!1,R=0,S=!1;this.el.addEventListener("mousedown",o=>{o.preventDefault(),a=!0,r=o.clientX,_=o.clientY,l=o.clientX,f=o.clientY,T=!1,R=Date.now(),S=!0,this._lastInteractionTime=Date.now()}),this.el.addEventListener("mousemove",o=>{if(!a)return;o.preventDefault();const h=o.clientX,c=o.clientY,p=h-l,v=c-f,g=h-r,x=c-_;if(Math.sqrt(g*g+x*x)>this._minSwipeDistance){T=!0;const M=Math.abs(p),b=Math.abs(v);if(M>b&&M>0){if(S){if(Math.abs(p)>20){l=h,f=c,S=!1;return}S=!1}let m=p*this._swipeSensitivity;if(Math.abs(p)>30){l=h,f=c;return}if(m=Math.max(-this._maxRotationPerFrame,Math.min(this._maxRotationPerFrame,m)),Math.abs(m)<.05){l=h,f=c;return}this._totalRotation+=m,this._val=(this._totalRotation%360+360)%360,this._oldAng===-1&&(this._oldAng=this._val),I.instance.debug.innerHTML="drag H: "+Math.round(this._val)+"\xB0 (total: "+Math.round(this._totalRotation)+"\xB0)"}if(b>M&&b>0){if(S){if(Math.abs(v)>20){l=h,f=c,S=!1;return}S=!1}let m=-v*this._swipeSensitivity;if(Math.abs(v)>30){l=h,f=c;return}if(m=Math.max(-this._maxRotationPerFrame,Math.min(this._maxRotationPerFrame,m)),Math.abs(m)<.05){l=h,f=c;return}this._totalRotation+=m,this._val=(this._totalRotation%360+360)%360,this._oldAng===-1&&(this._oldAng=this._val),I.instance.debug.innerHTML="drag V: "+Math.round(this._val)+"\xB0 (total: "+Math.round(this._totalRotation)+"\xB0)"}this._lastInteractionTime=Date.now(),l=h,f=c}else l=h,f=c}),this.el.addEventListener("mouseup",o=>{if(!a)return;const c=Date.now()-R,p=o.clientX,v=o.clientY,g=Math.sqrt(Math.pow(p-r,2)+Math.pow(v-_,2));a=!1,!T&&g<10&&c<300&&this._handleTripleClick()}),this.el.addEventListener("mouseleave",o=>{if(a){const c=Date.now()-R,p=o.clientX,v=o.clientY,g=Math.sqrt(Math.pow(p-r,2)+Math.pow(v-_,2));a=!1,!T&&g<10&&c<300&&this._handleTripleClick()}}),this.el.addEventListener("contextmenu",o=>{o.preventDefault()})}_loadImg(t){this._sample=[],this._mesh&&(this._con.remove(this._mesh),this._mesh=void 0),t!==void 0&&(this._currentImageIndex=t);const e=new Image;e.src=w.instance.PATH_IMG+`sample-${this._currentImageIndex}.png`,e.onload=()=>{const i=document.createElement("canvas");i.width=i.height=this._imgSize;const n=i.getContext("2d");n.drawImage(e,0,0),e.style.display="none";const r=n.getImageData(0,0,i.width,i.height).data;for(let _=0;_<r.length;_+=4){const l=~~(_/4),f=~~(l%i.width),T=~~(l/i.width),R=r[_+0],S=r[_+1],E=r[_+2],o=r[_+3],h=1;o>0&&this._sample.push({color:new H(R/255,S/255,E/255),pos:new V((f-this._imgSize*.5)*h,(T-this._imgSize*.5)*-1*h,0)})}console.log(this._sample.length),this._makeMesh()}}_handleTripleClick(){const t=Date.now();if(this._clickTimes=this._clickTimes.filter(e=>t-e<this._tripleClickDelay),this._clickTimes.push(t),this._clickTimes.length>=3){let e;do e=Math.floor(u.instance.random(0,this._maxImageIndex+1));while(e===this._currentImageIndex&&this._maxImageIndex>0);this._currentImageIndex=e,this._loadImg(),this._clickTimes=[],I.instance.debug.innerHTML=`Switched to sample-${this._currentImageIndex}.png`}}_makeMesh(){this._mesh=new et(this.getGeo(),new it({vertexShader:rt,fragmentShader:at,transparent:!0,depthTest:!1,uniforms:{alpha:{value:0},size:{value:2},time:{value:0},ang:{value:0}}})),this._con.add(this._mesh)}_update(){if(super._update(),this._con.position.y=D.instance.screenOffsetY()*-1,Date.now()-this._lastInteractionTime>this._autoReturnDelay&&Math.abs(this._totalRotation)>.1&&(this._totalRotation+=(0-this._totalRotation)*this._autoReturnSpeed,this._val=(this._totalRotation%360+360)%360),this._mesh!=null){const t=D.instance.r(3);this._mesh.scale.set(t,t,1),this._setUni(this._mesh,"size",5);const e=this._totalRotation;this._ang+=(e-this._ang)*.1,this._setUni(this._mesh,"ang",u.instance.radian(this._ang))}this.isNowRenderFrame()&&this._render()}_render(){const t=window.location.pathname,i=t==="/invert"||t.startsWith("/invert/")?0:16777215;this.renderer.setClearColor(i,1),this.renderer.render(this.mainScene,this.camera)}isNowRenderFrame(){return this.isRender}_resize(t=!0){super._resize();const e=D.instance.sw(),i=D.instance.sh();if((w.instance.IS_SP||w.instance.IS_TAB)&&e==this.renderSize.width&&this.renderSize.height*2>i)return;this.renderSize.width=e,this.renderSize.height=i,this.updateCamera(this.camera,e,i);let n=window.devicePixelRatio||1;this.renderer.setPixelRatio(n),this.renderer.setSize(e,i),this.renderer.clear(),t&&this._render()}getGeo(){const t=this._sample.length,e=new st,i=new Float32Array(t*3),n=new Float32Array(t*3),a=new Float32Array(t*3);let r=0,_=0;for(;_<t;){const l=this._sample[_].pos,f=this._sample[_].color;i[r*3+0]=l.x,i[r*3+1]=l.y,i[r*3+2]=0,n[r*3+0]=Math.sqrt(l.x*l.x+l.y*l.y),n[r*3+1]=0,n[r*3+2]=0,a[r*3+0]=f.r,a[r*3+1]=f.g,a[r*3+2]=f.b,r++,_++}return e.setAttribute("position",new z(i,3)),e.setAttribute("info",new z(n,3)),e.setAttribute("color",new z(a,3)),e.computeBoundingSphere(),e}}const k=window.location.pathname,dt=k==="/invert"||k.startsWith("/invert/");document.readyState==="loading"?document.addEventListener("DOMContentLoaded",N):N();function N(){if(dt){document.body.classList.add("invert");const d=document.querySelector("#js-con");d&&(d.style.backgroundColor="#000")}new ut({el:document.querySelector("#js-con")})}
